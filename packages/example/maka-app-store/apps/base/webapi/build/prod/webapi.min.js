!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("maka")):"function"==typeof define&&define.amd?define(["maka"],e):"object"==typeof exports?exports["MakaApp-webapi"]=e(require("maka")):t["MakaApp-webapi"]=e(t.maka)}(window,function(n){return function(n){var r={};function i(t){if(r[t])return r[t].exports;var e=r[t]={i:t,l:!1,exports:{}};return n[t].call(e.exports,e,e.exports,i),e.l=!0,e.exports}return i.m=n,i.c=r,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=4)}([function(t,e){t.exports=n},function(t,e){t.exports=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},function(t){t.exports={isMakaApp:!0,name:"webapi",description:"webapi",version:"1.0.0",license:"MIT",author:"",repository:{type:"git",url:"https://github.com/makajs/webapi.git"},bugs:{url:"https://github.com/makajs/webapi/issues"},homepage:"https://github.com/makajs/webapi#readme",scripts:{start:"maka start",dev:"maka start --dev",build:"maka build",pkg:"maka pkg"},dependencies:{},server:{proxy:{"/api/*":"http://127.0.0.1:3000"},port:8e3},subAppDir:["./apps","../base"]}},function(t,e,n){var i=n(6);t.exports=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}},function(t,e,n){t.exports=n(7)},function(t,e,n){},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e,n){"use strict";n.r(e);var r,i=n(1),o=n.n(i),a=n(2),u=n(0),p=(n(5),n(3)),s=n.n(p),l=u.fetch.mockData;function c(){l.apps||(l.apps=[{id:1,title:"首页",icon:"home",appName:"home",isInstalled:!1},{id:2,title:"仪表盘",icon:"dashboard",appName:"dashboard",isInstalled:!1},{id:3,title:"人员",icon:"user",appName:"set-person-list",isInstalled:!1},{id:4,title:"客户",icon:"team",appName:"set-customer-list",isInstalled:!1},{id:5,title:"BOM",icon:"profile",appName:"set-bom-list",isInstalled:!1},{id:6,title:"百度",icon:"smile",appName:"base-iframe",appProps:{iframeSrc:"https://www.baidu.com"},alwaysRender:!0,isInstalled:!1}]),l.plugins||(l.plugins=[{id:1,title:"人员列表插件",forApp:"set-person-list",appName:"set-person-list-plugin",isInstalled:!1}]),l.option||(l.option={styles:[{key:"dark",img:"theme-style-dark.svg",appName:"theme-style-dark"},{key:"light",img:"theme-style-light.svg",appName:"theme-style-light"}],primaryColors:[{key:"blue",color:"rgb(24, 144, 255)",appName:"theme-primary-color-blue"},{key:"green",color:"rgb(19, 194, 194)",appName:"theme-primary-color-green"},{key:"red",color:"rgb(245, 34, 45)",appName:"theme-primary-color-red"}],activePrimaryColor:"blue",activeStyle:"dark"})}u.fetch.mock("/api/logout",function(){return c(),u.fetch.clearAccessToken(),{result:!0,value:!0}}),u.fetch.mock("/api/appstore/query",function(t){return c(),{result:!0,value:l.apps}}),u.fetch.mock("/api/appstore/install",function(t){c();var e=t.id;return{result:l.apps.find(function(t){return t.id===e}).isInstalled=!0,value:!0}}),u.fetch.mock("/api/appstore/uninstall",function(t){c();var e=t.id;return{result:!(l.apps.find(function(t){return t.id===e}).isInstalled=!1),value:!0}}),u.fetch.mock("/api/plugin/query",function(t){return c(),{result:!0,value:l.plugins}}),u.fetch.mock("/api/plugin/install",function(t){c();var e=t.id;return{result:l.plugins.find(function(t){return t.id===e}).isInstalled=!0,value:!0}}),u.fetch.mock("/api/plugin/uninstall",function(t){c();var e=t.id;return{result:!(l.plugins.find(function(t){return t.id===e}).isInstalled=!1),value:!0}}),u.fetch.mock("/api/portal/getMenu",function(t){return c(),{result:!0,value:l.apps.filter(function(t){return!0===t.isInstalled})}}),u.fetch.mock("/api/option/query",function(t){return c(),{result:!0,value:l.option}}),u.fetch.mock("/api/option/update",function(t){return c(),l.option=s()({},l.option,t),{result:!0,value:l.option}}),n.d(e,"name",function(){return f}),n.d(e,"state",function(){return d}),n.d(e,"action",function(){return m}),n.d(e,"view",function(){return b});var f=a.name;Object(u.registerAction)("webapi",{logout:function(t){return u.fetch.post("/api/logout",t)},appstore:{query:function(t){return u.fetch.post("/api/appstore/query",t)},install:function(t){return u.fetch.post("/api/appstore/install",t)},uninstall:function(t){return u.fetch.post("/api/appstore/uninstall",t)}},plugin:{query:function(t){return u.fetch.post("/api/plugin/query",t)},install:function(t){return u.fetch.post("/api/plugin/install",t)},uninstall:function(t){return u.fetch.post("/api/plugin/uninstall",t)}},portal:{getMenu:function(t){return u.fetch.post("/api/portal/getMenu",t)}},option:{query:function(t){return u.fetch.post("/api/option/query",t)},update:function(t){return u.fetch.post("/api/option/update",t)}}},!0);var d={data:{}},m=Object(u.actionMixin)("base")(r=function t(e){o()(this,t),Object.assign(this,e.mixins)})||r,b={component:"div"}}])});