!function(n,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("maka")):"function"==typeof define&&define.amd?define(["maka"],t):"object"==typeof exports?exports["MakaApp-doc"]=t(require("maka")):n["MakaApp-doc"]=t(n.maka)}(window,function(e){return function(e){var r={};function o(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,o),t.l=!0,t.exports}return o.m=e,o.c=r,o.d=function(n,t,e){o.o(n,t)||Object.defineProperty(n,t,{enumerable:!0,get:e})},o.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},o.t=function(t,n){if(1&n&&(t=o(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(o.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)o.d(e,r,function(n){return t[n]}.bind(null,r));return e},o.n=function(n){var t=n&&n.__esModule?function(){return n.default}:function(){return n};return o.d(t,"a",t),t},o.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},o.p="",o(o.s=7)}([function(n,t){n.exports=e},function(n,t,e){n.exports=e(9)},function(n,t){n.exports=function(n,t,e){return t in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}},function(n,t){function c(n,t,e,r,o,i,a){try{var s=n[i](a),c=s.value}catch(n){return void e(n)}s.done?t(c):Promise.resolve(c).then(r,o)}n.exports=function(s){return function(){var n=this,a=arguments;return new Promise(function(t,e){var r=s.apply(n,a);function o(n){c(r,t,e,o,i,"next",n)}function i(n){c(r,t,e,o,i,"throw",n)}o(void 0)})}}},function(n,t){n.exports=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}},function(n){n.exports={isMakaApp:!0,name:"doc",description:"doc",version:"1.0.0",license:"MIT",author:"",repository:{type:"git",url:"https://github.com/makajs/doc.git"},bugs:{url:"https://github.com/makajs/doc/issues"},homepage:"https://github.com/makajs/doc#readme",scripts:{start:"maka start",dev:"maka start --dev",build:"maka build",pkg:"maka pkg"},dependencies:{},server:{proxy:null,port:8e3},subAppDir:["./apps","../assets","../base"],devDependencies:{"github-markdown-css":"^2.10.0"}}},function(n,t){n.exports="# DEMO\n\n## 运行\n\n```bash\n$ npm i -g @makajs/cli\n$ yarn install\n$ yarn start \n```\n\n打开浏览器，http://127.0.0.1:8000, 登录用户名：13334445556 密码:1\n\n## 打包\n```bash\n$ yarn pkg  //执行成功会 build/pkg 目录下生成打包结果\n```\n\n## 代码结构\n```\n|---assets\n     |---i18n                       //国际化支持App\n     |---image                      //公共图片注册App\n     |---style                      //公共样式注册App\n|---base\n     |---action                     //公共行为注册App\n     |---common                     //公共App\n     |---component                  //组件\n            |---antd                //antd组件注册 App\n            |---code-mirror         //代码编辑组件注册App\n            |---custom-component    //注册自定义组件App\n            |---echarts             //注册echarts组件App\n            |---fixed-data-table    //注册fixed-data-table App\n            |---font-awesome        //注册awesome字体组件App\n            |---json-viewer         //注册json viewer组件App\n            |---markdown            //注册markdown组件App\n            |---react-container-query //注册react-container-query组件App\n     |---devtools\n            |---devtools            //开发工具集成App\n            |---devtools-action     //可用行为查看App\n            |---devtools-app        //运行态App视图与state查看、编辑App\n            |---devtools-component  //可用组件查看App\n            |---devtools-mock       //mock数据查看App\n            |---devtools-state      //state查看App\n            |---devtools-template   //可用模板查看App\n            |---devtools-webapi     //可用webapi查看App\n     |---plugin\n            |---set-person-list-plugin  //员工列表App 插件\n     |---set\n            |---bom\n                 |---set-bom            //bom单据App\n                 |---set-bom-list       //bom列表App\n            |---customer\n                 |---set-customer       //客户卡片App\n                 |---set-customer-group //客户分类卡片App\n                 |---set-customer-list  //客户列表App\n            |---person\n                 |---set-person         //人员卡片App\n                 |---set-person-list    //人员列表App\n     |---sys\n            |---app-store               //应用商店App\n            |---dashboard               \n                 |---dashboard                      //仪表盘集成App\n                 |---dashboard-hot-search           //仪表盘-热搜App\n                 |---dashboard-market               //仪表盘-运营活动效果App\n                 |---dashboard-sale                 //仪表盘-总销售额App\n                 |---dashboard-sale-proportion      //仪表盘-销售额饼图App\n                 |---dashboard-sale-trend           //仪表盘-总销售额趋势App\n                 |---dashboard-trade                //仪表盘-支付笔数App\n                 |---dashboard-visit                //仪表盘-总访问量App\n            |---home                    \n                 |---home               //首页App\n                 |---home-chart         //首页-图表App\n                 |---home-shortcut      //首页-快捷方式App\n                 |---home-todo          //首页-代办App\n            |---option                  //设置App\n            |---portal                  //门户App\n            |---sign-in                 //注册App\n     |---theme\n            |---parimary-color\n                 |---theme-primairy-color-blue      //蓝色主色调App\n                 |---theme-primairy-color-green     //绿色主色调App\n                 |---theme-primairy-color-red       //红色主色调App\n     |---webapi                                     //webapi注册App\n```\n\n\n## App介绍\n\n### image\nimage App， 用于方法公共图片，并通过registerAction,将图片地址分发个各个应用\n\n#### 如何增加公共image？\n\n1. assets/image/src/img 下增加图片文件\n2. index.js import并注册\n```js\nimport logo from './img/logo.png'\n...\nregisterAction('image',{\n    logo,\n    ...\n})\n```\n\n#### 如何编译\n```bash\nyarn build\nyarn build --dev\n```\n#### 其他应用如何使用\n\n```js\n//混入image行为\n@actionMixin('base', 'image')\nclass action {\n    constructor(option) {\n        Object.assign(this, option.mixins)\n    }\n}\n\n//表达式中使用$image行为\nconst view = {\n    component: 'img',\n    src: '{{$image.logo}}'\n}\n\n//加载image App\nasync function beforeRegister(){\n    await load(['image'])\n}\n\nexport {\n    name,\n    view,\n    state,\n    action,\n    beforeRegister\n}\n```\n\n### style\nstyle app， 用于存放样式，load这个App网站将启用整体样式\n\n#### 如何修改样式\n\n增加或修改assets/style/src/style目录下文件\n\n#### 如何编译\n```bash\nyarn build\nyarn build --dev\n```\n#### 其他应用如何使用公共样式\n\n- index.js加载style App\n```js\nasync function beforeRegister(){\n    await load(['style'])\n}\n\nexport {\n    name,\n    view,\n    state,\n    action,\n    beforeRegister\n}\n```\n### component\n\ncomponent目录下的app，都是用于注册组件的app\n\n#### 如何注册组件\n新建antd app,关键代码如下\n```js\nimport { registerComponent } from 'maka'\nimport * as antd from 'antd/lib'\n...\nregisterComponent('antd', antd)\n...\n\n```\n#### 其他App如何使用组件\n\n```js\n//使用component属性指定控件名\nconst view = {\n    component: 'div',\n    children: [{\n        component: 'antd.Button',\n        children: 'Button'\n    }, {\n        component: 'antd.Input'\n    }, {\n        component: 'antd.DatePicker'\n    }, {\n        component: 'antd.Checkbox'\n    }, {\n        component: 'antd.DatePicker.MonthPicker',\n        disabled: true,\n    }]\n}\n\n//加载antd App\nasync function beforeRegister(){\n    await load(['antd'])\n}\n\nexport {\n    name,\n    view,\n    state,\n    action,\n    beforeRegister\n}\n\n```\n\n### template\ntemplate app，用于注册公共的模板\n\n#### 如何注册模板\n\n```js\nimport { registerTemplate } from 'maka'\nfunction hello(option){\n    return {\n        component: 'div',\n        children: 'hello'\n    }\n}\nregisterTemplate('tpl', {\n    hello\n})\n```\n\n#### 其他App如何使用模板\n\n```js\n//使用component属性指定模板名\nconst view = {\n    component: 'div',\n    children: [{\n        component: 'tpl.hello',\n    }]\n}\n\n//加载template App\nasync function beforeRegister(){\n    await load(['template'])\n}\n\nexport {\n    name,\n    view,\n    state,\n    action,\n    beforeRegister\n}\n\n```\n\n\n### action\naction app,用于公共行为的注册\n\n#### 如何注册行为\n\n```js\nimport { registerAction } from 'maka'\nimport moment from 'moment'\n...\nregisterAction('moment', moment, true)\n\n```\n\n#### 其他App如何使用公共行为\n\n```js\n\n//混入moment行为\n@actionMixin('base', 'moment')\nclass action {\n    constructor(option) {\n        Object.assign(this, option.mixins)\n    }\n\n    btnClick = () => {\n       alert(this.moment().format('YYYY-MM-DD'))\n    }\n}\n\n//表达式中使用$image行为\nconst view = {\n    component: 'button',\n    src: '{{$btnClick}}'\n}\n\n//加载action App\nasync function beforeRegister(){\n    await load(['action'])\n}\n\nexport {\n    name,\n    view,\n    state,\n    action,\n    beforeRegister\n}\n\n```\n\n### i18n\ni18n, 用于国际化的App\n\n#### 如何增加国际化公共资源\n\n修改i18n/src/resx.js\n\n```js\nexport default {\n    'zh-CN': {\n        test: '测试',\n        test1: '测试,${param}',\n        lang: '语言'\n    },\n    'en-US': {\n        test: 'test',\n        test1: 'test,${param}',\n        lang: 'language'\n    }\n}\n```\n\n#### 应用如何增加自己的国际化资源\n\n- 应用src目录下增加i18n.js，内容如下\n\n```js\nimport { asyncGetAction } from 'maka'\n\nconst zh_CN = {\n    'sign-in': '登录',\n    'sign-in.user': '用户',\n}\n\nconst en_US = {\n    'sign-in': 'sign in',\n    'sign-in.user': 'User',\n}\n\nasyncGetAction('i18n').then(i18n => {\n    //注册国际化资源\n    i18n.register({\n        'zh-CN': zh_CN,\n        'en-US': en_US\n    })\n})\n```\n\n- index文件修改\n\n```js\n\nimport './i18n' //加载本应用国际化资源\n\n//混入i18n行为\n@actionMixin('base', 'i18n')\nclass action {\n    constructor(option) {\n        Object.assign(this, option.mixins)\n    }\n}\n\n//表达式中使用国际化资源\nconst view = {\n    component: 'div',\n    children: [{\n        component: 'div',\n        children: `{{$i18n('test')}}`\n    },{\n        component: 'div',\n        children: `{{$i18n('sign-in')}}`\n    }]\n}\n\n//加载国际化app\nasync function beforeRegister(){\n    await load(['i18n'])\n}\n\nexport {\n    name,\n    view,\n    state,\n    action,\n    beforeRegister\n}\n```\n\n### theme\n\ntheme目录下，是一些主色调App，用于控制整体色调样式\n\n\n### dev tools\n\ndevtools目录， 是一些开发工具的App，可以查看运行态网站状况\n"},function(n,t,e){n.exports=e(8)},function(n,t,e){"use strict";e.r(t),e.d(t,"name",function(){return g}),e.d(t,"state",function(){return y}),e.d(t,"action",function(){return v}),e.d(t,"view",function(){return b}),e.d(t,"beforeRegister",function(){return w});var r,o=e(1),i=e.n(o),a=e(3),s=e.n(a),c=e(4),p=e.n(c),u=e(2),l=e.n(u),f=e(5),m=e(0),h=(e(11),e(6)),d=e.n(h),g=f.name,y={data:{}},v=Object(m.actionMixin)("base")(r=function n(t){var e=this;p()(this,n),l()(this,"onInit",function(){e.base.ss({"data.content":d.a})}),l()(this,"getCodeBlock",function(){var n=Object(m.getComponent)("CodeBlock");return console.log(n),n}),Object.assign(this,t.mixins)})||r,b={component:"div",className:"doc",children:[{component:"MarkdownViewer",className:"markdown-body",source:"{{data.content}}",skipHtml:!1,escapeHtml:!1,renderers:{code:"{{$getCodeBlock()}}"}}]};function w(){return A.apply(this,arguments)}function A(){return(A=s()(i.a.mark(function n(){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(m.load)(["markdown"]);case 2:case"end":return n.stop()}},n,this)}))).apply(this,arguments)}},function(n,t,e){var r=function(){return this||"object"==typeof self&&self}()||Function("return this")(),o=r.regeneratorRuntime&&0<=Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime"),i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,n.exports=e(10),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(n){r.regeneratorRuntime=void 0}},function(N,n){!function(n){"use strict";var c,t=Object.prototype,p=t.hasOwnProperty,e="function"==typeof Symbol?Symbol:{},o=e.iterator||"@@iterator",r=e.asyncIterator||"@@asyncIterator",i=e.toStringTag||"@@toStringTag",a="object"==typeof N,s=n.regeneratorRuntime;if(s)a&&(N.exports=s);else{(s=n.regeneratorRuntime=a?N.exports:{}).wrap=b;var l="suspendedStart",f="suspendedYield",m="executing",h="completed",d={},u={};u[o]=function(){return this};var g=Object.getPrototypeOf,y=g&&g(g(P([])));y&&y!==t&&p.call(y,o)&&(u=y);var v=j.prototype=A.prototype=Object.create(u);x.prototype=v.constructor=j,j.constructor=x,j[i]=x.displayName="GeneratorFunction",s.isGeneratorFunction=function(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===x||"GeneratorFunction"===(t.displayName||t.name))},s.mark=function(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,j):(n.__proto__=j,i in n||(n[i]="GeneratorFunction")),n.prototype=Object.create(v),n},s.awrap=function(n){return{__await:n}},k(O.prototype),O.prototype[r]=function(){return this},s.AsyncIterator=O,s.async=function(n,t,e,r){var o=new O(b(n,t,e,r));return s.isGeneratorFunction(t)?o:o.next().then(function(n){return n.done?n.value:o.next()})},k(v),v[i]="Generator",v[o]=function(){return this},v.toString=function(){return"[object Generator]"},s.keys=function(e){var r=[];for(var n in e)r.push(n);return r.reverse(),function n(){for(;r.length;){var t=r.pop();if(t in e)return n.value=t,n.done=!1,n}return n.done=!0,n}},s.values=P,R.prototype={constructor:R,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(E),!n)for(var t in this)"t"===t.charAt(0)&&p.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var n=this.tryEntries[0].completion;if("throw"===n.type)throw n.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,t){return i.type="throw",i.arg=e,r.next=n,t&&(r.method="next",r.arg=c),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var a=p.call(o,"catchLoc"),s=p.call(o,"finallyLoc");if(a&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(n,t){for(var e=this.tryEntries.length-1;0<=e;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&p.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===n||"continue"===n)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=n,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,d):this.complete(i)},complete:function(n,t){if("throw"===n.type)throw n.arg;return"break"===n.type||"continue"===n.type?this.next=n.arg:"return"===n.type?(this.rval=this.arg=n.arg,this.method="return",this.next="end"):"normal"===n.type&&t&&(this.next=t),d},finish:function(n){for(var t=this.tryEntries.length-1;0<=t;--t){var e=this.tryEntries[t];if(e.finallyLoc===n)return this.complete(e.completion,e.afterLoc),E(e),d}},catch:function(n){for(var t=this.tryEntries.length-1;0<=t;--t){var e=this.tryEntries[t];if(e.tryLoc===n){var r=e.completion;if("throw"===r.type){var o=r.arg;E(e)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(n,t,e){return this.delegate={iterator:P(n),resultName:t,nextLoc:e},"next"===this.method&&(this.arg=c),d}}}function b(n,t,e,r){var i,a,s,c,o=t&&t.prototype instanceof A?t:A,p=Object.create(o.prototype),u=new R(r||[]);return p._invoke=(i=n,a=e,s=u,c=l,function(n,t){if(c===m)throw new Error("Generator is already running");if(c===h){if("throw"===n)throw t;return M()}for(s.method=n,s.arg=t;;){var e=s.delegate;if(e){var r=L(e,s);if(r){if(r===d)continue;return r}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===l)throw c=h,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=m;var o=w(i,a,s);if("normal"===o.type){if(c=s.done?h:f,o.arg===d)continue;return{value:o.arg,done:s.done}}"throw"===o.type&&(c=h,s.method="throw",s.arg=o.arg)}}),p}function w(n,t,e){try{return{type:"normal",arg:n.call(t,e)}}catch(n){return{type:"throw",arg:n}}}function A(){}function x(){}function j(){}function k(n){["next","throw","return"].forEach(function(t){n[t]=function(n){return this._invoke(t,n)}})}function O(c){var t;this._invoke=function(e,r){function n(){return new Promise(function(n,t){!function t(n,e,r,o){var i=w(c[n],c,e);if("throw"!==i.type){var a=i.arg,s=a.value;return s&&"object"==typeof s&&p.call(s,"__await")?Promise.resolve(s.__await).then(function(n){t("next",n,r,o)},function(n){t("throw",n,r,o)}):Promise.resolve(s).then(function(n){a.value=n,r(a)},function(n){return t("throw",n,r,o)})}o(i.arg)}(e,r,n,t)})}return t=t?t.then(n,n):n()}}function L(n,t){var e=n.iterator[t.method];if(e===c){if(t.delegate=null,"throw"===t.method){if(n.iterator.return&&(t.method="return",t.arg=c,L(n,t),"throw"===t.method))return d;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return d}var r=w(e,n.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,d;var o=r.arg;return o?o.done?(t[n.resultName]=o.value,t.next=n.nextLoc,"return"!==t.method&&(t.method="next",t.arg=c),t.delegate=null,d):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function _(n){var t={tryLoc:n[0]};1 in n&&(t.catchLoc=n[1]),2 in n&&(t.finallyLoc=n[2],t.afterLoc=n[3]),this.tryEntries.push(t)}function E(n){var t=n.completion||{};t.type="normal",delete t.arg,n.completion=t}function R(n){this.tryEntries=[{tryLoc:"root"}],n.forEach(_,this),this.reset(!0)}function P(t){if(t){var n=t[o];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var e=-1,r=function n(){for(;++e<t.length;)if(p.call(t,e))return n.value=t[e],n.done=!1,n;return n.value=c,n.done=!0,n};return r.next=r}}return{next:M}}function M(){return{value:c,done:!0}}}(function(){return this||"object"==typeof self&&self}()||Function("return this")())},function(n,t,e){}])});